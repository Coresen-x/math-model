## 线性规划
### 标准形式：
'''
$$
\begin{aligned}
& \min_{x} c^T x \\
& \text{s.t.} \\
& \begin{cases} 
  Ax \leq b \\ 
  Aeq \cdot x = beq \\ 
  lb \leq x \leq ub 
\end{cases}
\end{aligned}
$$
'''
注意：标准形式要求最小值，如果实际上抽象出来的是最大值约束，就所有的加负号

### 案例：
市场上有 $n$ 种资产 $S_i$ （$i = 1, 2, \ldots, n$）可以选择，现用数额为 $M$ 的相当大的资金作一个时期的投资。这 $n$ 种资产在这一时期内购买 $S_i$ 的平均收益率为 $r_i$，风险损失率为 $q_i$，投资越分散，总的风险越少，总体风险可用投资的 $S_i$ 中最大的一个风险来度量。

购买 $S_i$ 时要付交易费，费率为 $p_i$，当购买额不超过给定值 $u_i$ 时，交易费按购买 $u_i$ 计算。另外，假定同期银行存款利率是 $r_0$，既无交易费又无风险（$r_0 = 5\%$）。

已知 $n = 4$ 时相关数据如表 1.1。

表 1.1  投资的相关数据

| $S_i$ | $r_i(\%)$ | $q_i(\%)$ | $p_i(\%)$ | $u_i(\text{元})$ |
|-------|----------|----------|----------|----------------|
| $S_1$ | 28       | 2.5      | 1        | 103            |
| $S_2$ | 21       | 1.5      | 2        | 198            |
| $S_3$ | 23       | 5.5      | 4.5      | 52             |
| $S_4$ | 25       | 2.6      | 6.5      | 40             |

试给该公司设计一种投资组合方案，即用给定资金 $M$，有选择地购买若干种资产或存银行生息，使净收益尽可能大，使总体风险尽可能小。

#### 符号规定 

$s_i$ 表示第 $i$ 种投资项目，如股票、债券等，$i = 0,1,\ldots,n$，其中 $s_0$ 指存入银行；  
$r_i$, $p_i$, $q_i$ 分别表示 $s_i$ 的平均收益率，交易费率，风险损失率，$i = 0,\ldots,n$，其中 $p_0 = 0$，$q_0 = 0$；  
$u_i$ 表示 $s_i$ 的交易定额，$i = 1,\ldots,n$；  
$x_i$ 表示投资项目 $s_i$ 的资金，$i = 0,1,\ldots,n$；  
$a$ 表示投资风险度；  
$Q$ 表示总体收益；

#### 模型假设
在实际投资中，投资者承受风险的程度不一样，若给定风险一个界限 $a$ 使最大的一个风险 $\frac{q_i x_i}{M}$ 可找到相应的投资方案。这样把多目标规划变成一个目标的线性规划。


```math
\begin{aligned}
& \max \sum_{i=0}^n (r_i - p_i)x_i \\
& \text{s.t.} \\
& \frac{q_i x_i}{M} \leq a \\
& \sum_{i=0}^n (1 + p_i)x_i = M \\
& x_i \geq 0, \quad i = 0, 1, \cdots, n
\end{aligned}
```
优化问题：
```math
\min f = \begin{pmatrix} -0.05 & -0.27 & -0.19 & -0.185 & -0.185 \end{pmatrix}
\begin{pmatrix} x_0 \\ x_1 \\ x_2 \\ x_3 \\ x_4 \end{pmatrix}
```
1. 资金约束：
```math
x_0 + 1.01x_1 + 1.02x_2 + 1.045x_3 + 1.065x_4 = 1
```
2. 风险约束：
```math
\begin{cases}
0.025x_1 \leq a \\
0.015x_2 \leq a \\
0.055x_3 \leq a \\
0.026x_4 \leq a
\end{cases}
```
3. 非负约束：
```math
x_i \geq 0 \quad (i = 0, 1, \cdots, 4)
```
由于 $a$ 是任意给定的风险度，不同的投资者有不同的风险承受能力。我们从 $a = 0$ 开始，以步长 $\Delta a = 0.001$ 进行循环搜索（这样子就把多目标规划转换成了线性规划）

跑出收益率与风险的相关函数后重点分析拐点

